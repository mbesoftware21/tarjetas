<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tarjetas de Presentación</title>
  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", "Roboto", sans-serif;
      background: #121212;
      color: #f1f1f1;
    }
    header {
      background: linear-gradient(90deg, #0d1b2a, #1b263b);
      color: #e0a800;
      padding: 1rem;
      text-align: center;
      font-size: 1.5rem;
      font-weight: bold;
      letter-spacing: 1px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.6);
    }
    main {
      padding: 1rem;
      max-width: 900px;
      margin: auto;
    }
    .form-card, .user-list, .profile-card {
      background: linear-gradient(145deg, #1f1f1f, #292929);
      border-radius: 16px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 8px 20px rgba(0,0,0,0.5);
      border: 1px solid #333;
    }
    .form-card h3, .user-list h3 {
      margin-top: 0;
      color: #e0a800;
    }
    .form-card input {
      display: block;
      width: 100%;
      margin-bottom: 1rem;
      padding: 0.8rem;
      border: 1px solid #555;
      border-radius: 10px;
      background: #121212;
      color: #f1f1f1;
      font-size: 1rem;
      transition: border 0.3s, box-shadow 0.3s;
    }
    .form-card input:focus {
      border: 1px solid #e0a800;
      outline: none;
      box-shadow: 0 0 10px rgba(224,168,0,0.5);
    }
    .btn {
      background: linear-gradient(135deg, #e0a800, #ffcc00);
      color: #1b1b1b;
      border: none;
      padding: 0.7rem 1.5rem;
      border-radius: 10px;
      cursor: pointer;
      font-weight: bold;
      transition: transform 0.2s, box-shadow 0.3s;
    }
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(224,168,0,0.5);
    }
    .user-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.8rem 0;
      border-bottom: 1px solid #333;
    }
    .user-item span {
      font-size: 1rem;
      color: #f1f1f1;
    }
    .user-item button {
      margin-left: 0.5rem;
    }
    /* Tarjeta de presentación */
    .profile-card {
      text-align: center;
      background: linear-gradient(160deg, #1b263b, #0d1b2a);
      border: 2px solid #e0a800;
    }
    .profile-card img {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 1rem;
      border: 4px solid #e0a800;
      box-shadow: 0 4px 15px rgba(0,0,0,0.6);
    }
    .profile-card h2 {
      margin: 0.3rem 0;
      color: #ffcc00;
    }
    .profile-card p {
      margin: 0.3rem 0;
      color: #ddd;
    }
    @media (max-width: 600px) {
      .user-item {
        flex-direction: column;
        align-items: flex-start;
      }
      .user-item div {
        margin-top: 0.5rem;
      }
    }
  </style>
</head>
<body>
  <header>Tarjetas Digitales - Demo</header>
  <main id="app"></main>

  <script>
    // Datos en memoria
    let users = JSON.parse(localStorage.getItem("users")) || [];
    let editingIndex = null;

    const app = document.getElementById("app");

    // Render principal
    function renderHome() {
      app.innerHTML = `
        <div class="form-card">
          <h3>${editingIndex !== null ? "Editar Usuario" : "Crear Usuario"}</h3>
          <input id="name" placeholder="Nombre" />
          <input id="role" placeholder="Cargo" />
          <input id="company" placeholder="Empresa" />
          <input id="phone" placeholder="Teléfono" />
          <input id="email" placeholder="Correo" />
          <input id="photo" placeholder="URL Foto" />
          <button class="btn" onclick="saveUser()">
            ${editingIndex !== null ? "Actualizar" : "Crear"}
          </button>
        </div>

        <div class="user-list">
          <h3>Usuarios</h3>
          ${users.length === 0 
            ? "<p>No hay usuarios</p>" 
            : users.map((u,i) => `
              <div class="user-item">
                <span>${u.name} - ${u.role}</span>
                <div>
                  <button class="btn" onclick="viewUser(${i})">Ver</button>
                  <button class="btn" onclick="editUser(${i})">Editar</button>
                  <button class="btn" onclick="deleteUser(${i})">Eliminar</button>
                </div>
              </div>
          `).join("")}
        </div>
      `;

      if (editingIndex !== null) {
        const u = users[editingIndex];
        document.getElementById("name").value = u.name;
        document.getElementById("role").value = u.role;
        document.getElementById("company").value = u.company;
        document.getElementById("phone").value = u.phone;
        document.getElementById("email").value = u.email;
        document.getElementById("photo").value = u.photo;
      }
    }

    // Guardar usuario
    function saveUser() {
      const u = {
        name: document.getElementById("name").value,
        role: document.getElementById("role").value,
        company: document.getElementById("company").value,
        phone: document.getElementById("phone").value,
        email: document.getElementById("email").value,
        photo: document.getElementById("photo").value || "https://via.placeholder.com/120"
      };
      if (editingIndex !== null) {
        users[editingIndex] = u;
        editingIndex = null;
      } else {
        users.push(u);
      }
      localStorage.setItem("users", JSON.stringify(users));
      renderHome();
    }

    // Ver perfil
    function viewUser(i) {
      const u = users[i];
      window.location.hash = `#profile-${i}`;
    }

    // Editar usuario
    function editUser(i) {
      editingIndex = i;
      renderHome();
    }

    // Eliminar usuario
    function deleteUser(i) {
      users.splice(i,1);
      localStorage.setItem("users", JSON.stringify(users));
      renderHome();
    }

    // Render tarjeta
    function renderProfile(i) {
      const u = users[i];
      app.innerHTML = `
        <div class="profile-card">
          <img src="${u.photo}" alt="${u.name}" />
          <h2>${u.name}</h2>
          <p>${u.role} en ${u.company}</p>
          <p>��� ${u.phone}</p>
          <p>✉️ ${u.email}</p>
          <br>
          <button class="btn" onclick="goHome()">Volver</button>
        </div>
      `;
    }

    // Navegación
    function goHome() {
      window.location.hash = "";
    }

    function router() {
      if (window.location.hash.startsWith("#profile-")) {
        const i = parseInt(window.location.hash.replace("#profile-",""));
        renderProfile(i);
      } else {
        renderHome();
      }
    }

    window.addEventListener("hashchange", router);
    router();
  </script>
</body>
</html>
